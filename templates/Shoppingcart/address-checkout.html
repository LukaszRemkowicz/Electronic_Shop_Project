{% extends 'base.html' %}

{% block content %}

<div class="small-container">

    <div class="grid-container summary-cart">
        <div class="shipping-info">
            <div id="shipInfo" class="my-2 ">
                <div class="bg-white box-shadow ship-container p-3">
                    <div class="shipping-information text-left">
                        <h5 class='h-100'>Shipping Information: </h5>
                    </div>
                    <div class="book-addresses d-flex elementsToHide">
                        {% for address in address_list %}
                            <div class="book-box" id="{{ address.id }}">
                                <p class="book-address">{{address.name}}</p>
                                <p class='book-street'>{{ address.street }}</p>
                                <p> <span class='book-postcode'>{{address.post_code}}</span>  <span class='book-city'> {{address.city}} </span> </p>
                                <p> Phone: <span class='d-line book.phone'>{{address.phone_number}}</span></p>
                                <p class='book-state'> {{ address.state }} </p>
                            </div>
                        {% endfor %}
                    </div>
                    <form class="form addres-form mt-3" id="addres-form" method='post'>
                        {% csrf_token %}

                        <div class="form-row elementsToHide">
                            <div class="form-group col-12 d-flex justify-content-between">
                                <div class="form-left d-flex flex-column form-inputs">
                                    <input id='formName' type="text" name='formName' class="formName mr-2 rounded" placeholder="Name.."/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle"></i>
                                    <p class=""> Warning</p>
                                </div>
                                <div class="form-right d-flex flex-column form-inputs">
                                    <input id='formCity' name='formCity' class="rounded" type="text" placeholder="City.."/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle"></i>
                                    <p class=""> Warning</p>
                                </div>
                            </div>
                        </div> 

                        <div class="form-row elementsToHide">
                            <div class="form-group col-12 d-flex justify-content-between">
                                <div class="form-left d-flex flex-column form-inputs">
                                    <input id='formState' name='formState' type="text" class='mr-2 rounded' placeholder="State.."/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle "></i>    
                                    <p class=""> Warning</p>
                                </div>
                                <div class="form-right d-flex flex-column form-inputs">
                                    <input id="formZipCode" name='formZipCode' type="text" class='rounded' placeholder="Zip code.."/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle"></i>
                                    <p class=""> Warning</p>
                                </div>
                            </div>
                        </div> 

                        <div class="form-row elementsToHide">
                            <div class="form-group col-12 d-flex justify-content-start">

                                <div class="form-left d-flex flex-column form-inputs">
                                    <input id='formStreetName' name='formStreetName' type="text" class=' mr-2 rounded' placeholder="Street name.."/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle"></i>
                                    <p class=""> Warning</p>
                                </div>

                                <div class="form-right d-flex flex-column form-inputs">
                                    <input id='formEmail' name='formEmail' type="text" class=' mr-2 rounded' placeholder= 
                                    {% if user.is_authenticated and user.email %} "{{ user.email }}"
                                    {% else %} "Email.." {% endif %}
                                    {% if user.is_authenticated and user.email %} disabled {% endif %}/>
                                    <i class="fas fa-check-circle"></i>
                                    <i class="fas fa-exclamation-circle"></i>
                                    <p class=""> Warning</p>
                                </div>
                                
                            </div>
                        </div> 

                        <div class="w-100">
                            <a href="" type='submit' class="btn-red w-100 form-submit">Continue</a>
                        </div>
                        <div class="payment d-flex justify-content-center hidden">
                            <button type='submit' href="" class="btn-red ">Process to checkout</button>
                        </div>
                        
                    </form> 
                    
            </div>
           
        </div>
        </div>
        
        <div class="my-2 bg-white mx-2 box-shadow summary-section">
            <div class="back-to-cart py-3 d-flex justify-content-between">
                <a href="" class='btn btn-light py-2'>
                <i class="fas fa-arrow-left "></i>
                Back to cart
            </a>
            <div class="total">
                    <h4>Total: $ {{ order.get_cart_total|floatformat:2 }}</h4>
            </div>
            </div>
            
            <h3 class='py-2 text-left order-summary py-3'>Order summary</h3> 
            <div class="product-summary">
                <div class="row product-row description-row">
                    <div class="col-3">
                    </div>
                    <div class="col-5 d-flex justify-content-center align-items-center">
                        <p class=''> Product name </p>
                    </div>
                    <div class="col-2 d-flex justify-content-center align-items-center">
                        <p class='price '> Price </p>
                    </div>
                    <div class="col-2 d-flex justify-content-center align-items-center">
                        <p class='quantity '> Quantity </p>
                    </div>   
                </div>
                {% for item in items %}
                    <div class="row product-row">
                        <div class="col-3">
                            <img class= "picture-box" src="{{ item.product.get_img }}" alt="">
                        </div>
                        <div class="col-5 d-flex justify-content-center align-items-center">
                            <p class=''> {{ item.product.name }} </p>
                        </div>
                        <div class="col-2 d-flex justify-content-center align-items-center">
                            <p class='price '> ${{ item.product.price }} </p>
                        </div>
                        <div class="col-2 d-flex justify-content-center align-items-center">
                            <p class='quantity '>{{ item.quantity }}</p>
                        </div>   
                    </div>
                {% endfor %}
                
            </div>
        </div>
    </div>
    
</div>


{% endblock content %} 